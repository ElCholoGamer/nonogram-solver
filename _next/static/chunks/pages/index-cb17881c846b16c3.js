(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(8664)}])},8664:function(e,r,l){"use strict";l.r(r),l.d(r,{default:function(){return j}});var t,n,a,s,i=l(5893),o=l(4184),d=l.n(o),c=l(9008),u=l.n(c),m=l(1664),x=l.n(m),h=l(7294);let b=e=>{let{className:r,children:l,...t}=e;return(0,i.jsxs)("button",{className:d()(r,"text-blue-500 text-xl hover:text-blue-300 disabled:text-blue-900 disabled:cursor-not-allowed"),...t,children:["[",l,"]"]})},f=e=>{let{onAdd:r,className:l,disabled:t,...n}=e,[a,s]=(0,h.useState)(""),o=e=>{s(e.target.value.trim().replace(/\D/g,"").substring(0,2))},c=e=>{if("Enter"!==e.key||0===a.length)return;let l=parseInt(a);l<1||(r(l),s(""))};return(0,i.jsx)("input",{...n,type:"text",className:d()(l,"text-center border-neutral-900 text-neutral-900 disabled:bg-neutral-300 transition-colors"),placeholder:t?"-":"+",disabled:t,value:a,onChange:o,onKeyDown:c})},p=e=>{let{className:r,label:l,value:t,setValue:n,...a}=e;return(0,i.jsxs)("div",{className:d()(r,"my-2"),...a,children:[(0,i.jsxs)("label",{htmlFor:"width",children:[l,": "]}),t,(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"flex items-center justify-center text-gray-500 my-2",children:[5,(0,i.jsx)("input",{type:"range",id:"width",name:"width",min:5,max:20,value:t,className:"mx-3",onChange:e=>n(parseInt(e.currentTarget.value))}),20]})]})};(t=a||(a={}))[t.UNKNOWN=0]="UNKNOWN",t[t.WHITE=1]="WHITE",t[t.BLACK=2]="BLACK",(n=s||(s={}))[n.SOLVED=0]="SOLVED",n[n.ERROR=1]="ERROR";let g=()=>{let[e,r]=(0,h.useState)(5),[l,t]=(0,h.useState)(5),[n,a]=(0,h.useState)(null),[s,o]=(0,h.useState)([]),[c,m]=(0,h.useState)([]),[g,j]=(0,h.useState)(null),v=()=>{a([...Array(e)].map(()=>Array(l).fill(0))),o([...Array(l)].map(()=>[])),m([...Array(e)].map(()=>[]))},N=()=>{a(null)},y=(e,r)=>{var l;s[e].length>=O||o(t=>null!==(l=null==t?void 0:t.map((l,t)=>t===e?[...l,r]:l))&&void 0!==l?l:null)},w=(e,r)=>{var l;c[e].length>=R||m(t=>null!==(l=null==t?void 0:t.map((l,t)=>t===e?[...l,r]:l))&&void 0!==l?l:null)},C=(e,r)=>{o(l=>null==l?void 0:l.map((l,t)=>t===e?l.filter((e,l)=>l!==r):l))},k=(e,r)=>{m(l=>null==l?void 0:l.map((l,t)=>t===e?l.filter((e,l)=>l!==r):l))};function A(e,r){return function l(t,n,a){if(a<0)return[t];let s=[],i=e[a],o=e.slice(0,a).reduce((e,r)=>e+r,0)+a,d=r-o-i+1;for(let c=n;c<d;c++){let u=[...t];for(let m=0;m<i;m++)u[c+m]=!0;s.push(...l(u,c+i+1,a-1))}return s}(Array(r).fill(!1),0,e.length-1)}let E=()=>{let r=s.map(r=>A(r,e)),t=c.map(e=>A(e,l)),n=[...Array(e)].map(()=>Array(l).fill(0));for(;;){let i=!0;for(let o=0;o<l;o++){let d=r[o];if(0!==d.length)for(let u=0;u<e;u++){if(0!==n[u][o])continue;let m=d[0][u];d.some(e=>e[u]!==m)||(n[u][o]=m?2:1,t[u]=t[u].filter(e=>e[o]===m),i=!1)}}for(let x=0;x<e;x++){let h=t[x];if(0!==h.length)for(let b=0;b<l;b++){if(0!==n[x][b])continue;let f=h[0][b];h.some(e=>e[b]!==f)||(n[x][b]=f?2:1,r[b]=r[b].filter(e=>e[x]===f),console.log("what"),i=!1)}}if(i)break}n.every(e=>!e.includes(0))?(n=n.map(e=>e.map(e=>1===e?0:e)),j(0)):j(1),a(n.map(e=>[...e]))},_=()=>{var e;j(null),a(r=>null!==(e=null==r?void 0:r.map(e=>Array(e.length).fill(0)))&&void 0!==e?e:null)},S=()=>{o(e=>e.map(()=>[])),m(e=>e.map(()=>[])),_()},O=Math.ceil(e/2),R=Math.ceil(l/2);return(0,i.jsxs)("div",{className:"flex flex-col h-full",children:[(0,i.jsxs)(u(),{children:[(0,i.jsx)("title",{children:"Nonogram Solver"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("main",{className:"p-12 flex-grow",children:[(0,i.jsx)("h1",{className:"text-4xl font-semibold",children:"Nonogram Solver"}),(0,i.jsx)("p",{className:"my-3",children:"By ElCholoGamer"}),n?(0,i.jsxs)("div",{className:"mt-16 mb-4",children:[(0,i.jsx)(b,{onClick:E,className:"text-2xl mb-6 text-yellow-300 hover:text-yellow-100",children:"Solve"}),null!==g&&(0===g?(0,i.jsx)("p",{className:"text-green-300",children:"Nonogram solved!"}):(0,i.jsx)("p",{className:"text-red-400",children:"Couldn't solve the entire nonogram"})),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"inline-grid grid-flow-col",style:{gridTemplateRows:"repeat(".concat(l+R+1,", minmax(0, 1fr))")},children:[[...Array(R+1)].map((e,r)=>(0,i.jsx)("div",{className:d()("bg-white border-l-2 border-neutral-900",0===r&&"border-t-2")},r)),[...Array(l)].map((e,r)=>(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(f,{disabled:s[r].length>=O,onAdd:e=>y(r,e),className:d()("w-8 border-l-2",r%5==4?"border-b-2":"border-b",0===r&&"border-t-2")}),[...Array(O)].map((e,l)=>{let t=O-l-1;return(0,i.jsx)("div",{className:d()("bg-white  border-neutral-900 w-8 text-neutral-900",r%5==4?"border-b-2":"border-b",0===r&&"border-t-2",0===l&&"border-l-2"),children:t<s[r].length&&(0,i.jsx)("div",{className:"rounded-md transition-all hover:bg-red-300 h-full flex items-center justify-center cursor-pointer",onClick:()=>C(r,t),children:s[r][O-l-1]})},l)})]},r)),n.map((e,r)=>(0,i.jsxs)(h.Fragment,{children:[(0,i.jsx)(f,{onAdd:e=>w(r,e),disabled:c[r].length>=R,className:d()("w-8 border-t-2",r%5==4?"border-r-2":"border-r",0===r&&"border-l-2")}),[...Array(R)].map((e,l)=>{let t=R-l-1;return(0,i.jsx)("div",{className:d()("bg-white border-neutral-900 text-neutral-900",r%5==4?"border-r-2":"border-r",0===r&&"border-l-2",0===l&&"border-t-2"),children:t<c[r].length&&(0,i.jsx)("div",{className:"rounded-md transition-all hover:bg-red-300 h-full flex items-center justify-center cursor-pointer",onClick:()=>k(r,t),children:c[r][t]})},l)}),e.map((e,l)=>(0,i.jsx)("div",{className:d()("w-8 h-8 border-neutral-900 text-neutral-900 text-xl",r%5==4?"border-r-2":"border-r",l%5==4?"border-b-2":"border-b",0===r&&"border-l-2",0===l&&"border-t-2",2===e?"bg-black":"bg-white"),children:1===e&&"x"},"".concat(r,",").concat(l)))]},r))]}),(0,i.jsxs)("div",{className:"space-x-8 mt-8 mb-4 text-center",children:[(0,i.jsx)(b,{onClick:_,children:"Clear grid"}),(0,i.jsx)(b,{onClick:S,children:"Clear all"})]}),(0,i.jsx)(b,{onClick:N,children:"Choose another size"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:" mt-20 mb-10 text-2xl",children:"Choose a grid size:"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 max-w-3xl mx-auto mb-12",children:[(0,i.jsx)(p,{label:"Width",value:e,setValue:r}),(0,i.jsx)(p,{label:"Height",value:l,setValue:t})]}),(0,i.jsx)(b,{onClick:v,children:"Create grid"})]})]}),(0,i.jsx)("footer",{className:"py-4 px-3",children:(0,i.jsx)("small",{children:(0,i.jsx)(x(),{className:"text-blue-500 hover:text-blue-300",href:"https://en.wikipedia.org/wiki/Nonogram",target:"_blank",rel:"noopener noreferrer",children:"[What the heck is a nonogram?]"})})})]})};var j=g}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);