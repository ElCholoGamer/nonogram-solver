(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,l,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8664)}])},8664:function(e,l,r){"use strict";r.r(l),r.d(l,{default:function(){return y}});var t,n,a,s,i=r(5893),o=r(9008),d=r.n(o),c=r(1664),m=r.n(c),u=r(1752),h=r.n(u),x=r(7294),b=r(4184),f=r.n(b);let g=e=>{let{className:l,children:r,...t}=e;return(0,i.jsxs)("button",{className:f()(l,"text-blue-500 text-xl hover:text-blue-300 disabled:text-blue-900 disabled:cursor-not-allowed"),...t,children:["[",r,"]"]})},p=e=>{let{onAdd:l,className:r,disabled:t,...n}=e,[a,s]=(0,x.useState)(""),o=e=>{s(e.target.value.trim().replace(/\D/g,"").substring(0,2))},d=e=>{if("Enter"!==e.key||0===a.length)return;let r=parseInt(a);r<1||(l(r),s(""))};return(0,i.jsx)("input",{...n,type:"text",className:f()(r,"text-center border-neutral-900 text-neutral-900 disabled:bg-neutral-300 transition-colors"),placeholder:t?"-":"+",disabled:t,value:a,onChange:o,onKeyDown:d})},j=e=>{let{className:l,label:r,value:t,setValue:n,...a}=e;return(0,i.jsxs)("div",{className:f()(l,"my-2"),...a,children:[(0,i.jsxs)("label",{htmlFor:"width",children:[r,": "]}),t,(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"flex items-center justify-center text-gray-500 my-2",children:[5,(0,i.jsx)("input",{type:"range",id:"width",name:"width",min:5,max:20,value:t,className:"mx-3",onChange:e=>n(parseInt(e.currentTarget.value))}),20]})]})};(t=a||(a={}))[t.UNKNOWN=0]="UNKNOWN",t[t.WHITE=1]="WHITE",t[t.BLACK=2]="BLACK",(n=s||(s={}))[n.SOLVED=0]="SOLVED",n[n.ERROR=1]="ERROR";let v=h()(),N=()=>{let[e,l]=(0,x.useState)(5),[r,t]=(0,x.useState)(5),[n,a]=(0,x.useState)(null),[s,o]=(0,x.useState)([]),[c,u]=(0,x.useState)([]),[h,b]=(0,x.useState)(null);console.log(v);let N=()=>{a([...Array(e)].map(()=>Array(r).fill(0))),o([...Array(r)].map(()=>[])),u([...Array(e)].map(()=>[]))},y=()=>{a(null)},w=(e,l)=>{var r;s[e].length>=R||o(t=>null!==(r=null==t?void 0:t.map((r,t)=>t===e?[l,...r]:r))&&void 0!==r?r:null)},k=(e,l)=>{var r;c[e].length>=T||u(t=>null!==(r=null==t?void 0:t.map((r,t)=>t===e?[l,...r]:r))&&void 0!==r?r:null)},C=(e,l)=>{o(r=>null==r?void 0:r.map((r,t)=>t===e?r.filter((e,r)=>r!==l):r))},A=(e,l)=>{u(r=>null==r?void 0:r.map((r,t)=>t===e?r.filter((e,r)=>r!==l):r))};function E(e,l){return function r(t,n,a){if(a<0)return[t];let s=[],i=e[a],o=e.slice(0,a).reduce((e,l)=>e+l,0)+a,d=l-o-i+1;for(let c=n;c<d;c++){let m=[...t];for(let u=0;u<i;u++)m[c+u]=!0;s.push(...r(m,c+i+1,a-1))}return s}(Array(l).fill(!1),0,e.length-1)}let S=()=>{let l=s.map(l=>E(l,e)),t=c.map(e=>E(e,r)),n=[...Array(e)].map(()=>Array(r).fill(0));for(;;){let i=!0;for(let o=0;o<r;o++){let d=l[o];if(0!==d.length)for(let m=0;m<e;m++){if(0!==n[m][o])continue;let u=d[0][m];d.some(e=>e[m]!==u)||(n[m][o]=u?2:1,t[m]=t[m].filter(e=>e[o]===u),i=!1)}}for(let h=0;h<e;h++){let x=t[h];if(0!==x.length)for(let f=0;f<r;f++){if(0!==n[h][f])continue;let g=x[0][f];x.some(e=>e[f]!==g)||(n[h][f]=g?2:1,l[f]=l[f].filter(e=>e[h]===g),console.log("what"),i=!1)}}if(i)break}n.every(e=>!e.includes(0))?(n=n.map(e=>e.map(e=>1===e?0:e)),b(0)):b(1),a(n.map(e=>[...e]))},_=()=>{var e;b(null),a(l=>null!==(e=null==l?void 0:l.map(e=>Array(e.length).fill(0)))&&void 0!==e?e:null)},O=()=>{o(e=>e.map(()=>[])),u(e=>e.map(()=>[])),_()},R=Math.ceil(e/2),T=Math.ceil(r/2);return(0,i.jsxs)("div",{className:"flex flex-col h-full",children:[(0,i.jsxs)(d(),{children:[(0,i.jsx)("title",{children:"Nonogram Solver"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("link",{rel:"icon",href:"".concat("/nonogram-solver/","favicon.ico")})]}),(0,i.jsxs)("main",{className:"p-12 flex-grow",children:[(0,i.jsx)("h1",{className:"text-4xl font-semibold",children:"Nonogram Solver"}),(0,i.jsx)("p",{className:"my-3",children:"By ElCholoGamer"}),n?(0,i.jsxs)("div",{className:"mt-16 mb-4",children:[null===h?(0,i.jsx)("p",{className:"text-gray-600",children:'Fill in the inputs and click on "Solve" when you\'re ready'}):0===h?(0,i.jsx)("p",{className:"text-green-300",children:"Nonogram solved!"}):(0,i.jsx)("p",{className:"text-red-400",children:"Couldn't solve the nonogram :("}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"inline-grid grid-flow-col",style:{gridTemplateRows:"repeat(".concat(r+T+1,", minmax(0, 1fr))")},children:[[...Array(T+1)].map((e,l)=>(0,i.jsx)("div",{className:f()("bg-white border-l-2 border-neutral-900",0===l&&"border-t-2")},l)),[...Array(r)].map((e,l)=>(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(p,{disabled:s[l].length>=R,onAdd:e=>w(l,e),className:f()("h-6 sm:h-8 w-6 sm:w-8 border-l-2",l%5==4?"border-b-2":"border-b",0===l&&"border-t-2")}),[...Array(R)].map((e,r)=>{let t=R-r-1;return(0,i.jsx)("div",{className:f()("h-6 sm:h-8 bg-white  border-neutral-900 w-6 sm:w-8 text-neutral-900",l%5==4?"border-b-2":"border-b",0===l&&"border-t-2",0===r&&"border-l-2"),children:t<s[l].length&&(0,i.jsx)("div",{className:"rounded-md transition-all hover:bg-red-300 h-full flex items-center justify-center cursor-pointer",onClick:()=>C(l,t),children:s[l][R-r-1]})},r)})]},l)),n.map((e,l)=>(0,i.jsxs)(x.Fragment,{children:[(0,i.jsx)(p,{onAdd:e=>k(l,e),disabled:c[l].length>=T,className:f()("h-6 sm:h-8 w-6 sm:w-8 border-t-2",l%5==4?"border-r-2":"border-r",0===l&&"border-l-2")}),[...Array(T)].map((e,r)=>{let t=T-r-1;return(0,i.jsx)("div",{className:f()("bg-white border-neutral-900 text-neutral-900",l%5==4?"border-r-2":"border-r",0===l&&"border-l-2",0===r&&"border-t-2"),children:t<c[l].length&&(0,i.jsx)("div",{className:"rounded-md transition-all hover:bg-red-300 h-full flex items-center justify-center cursor-pointer",onClick:()=>A(l,t),children:c[l][t]})},r)}),e.map((e,r)=>(0,i.jsx)("div",{className:f()("h-6 sm:h-8 border-neutral-900 text-neutral-900 text-md sm:text-xl",l%5==4?"border-r-2":"border-r",r%5==4?"border-b-2":"border-b",0===l&&"border-l-2",0===r&&"border-t-2",2===e?"bg-black":"bg-white"),children:1===e&&"x"},"".concat(l,",").concat(r)))]},l))]}),(0,i.jsx)("br",{}),(0,i.jsx)(g,{onClick:S,className:"text-2xl my-6 text-yellow-300 hover:text-yellow-100",children:"Solve"}),(0,i.jsxs)("div",{className:"my-4 flex justify-center flex-col sm:flex-row items-center",children:[(0,i.jsx)(g,{className:"m-2",onClick:_,children:"Clear grid"}),(0,i.jsx)(g,{className:"m-2",onClick:O,children:"Clear all"})]}),(0,i.jsx)(g,{onClick:y,children:"Choose another size"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:" mt-20 mb-10 text-2xl",children:"Choose a grid size:"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 max-w-3xl mx-auto mb-12",children:[(0,i.jsx)(j,{label:"Width",value:e,setValue:l}),(0,i.jsx)(j,{label:"Height",value:r,setValue:t})]}),(0,i.jsx)(g,{onClick:N,children:"Create grid"})]})]}),(0,i.jsx)("footer",{className:"py-4 px-3",children:(0,i.jsx)("small",{children:(0,i.jsx)(m(),{className:"text-blue-500 hover:text-blue-300",href:"https://en.wikipedia.org/wiki/Nonogram",target:"_blank",rel:"noopener noreferrer",children:"[What the heck is a nonogram?]"})})})]})};var y=N}},function(e){e.O(0,[280,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);